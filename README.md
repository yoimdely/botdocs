# CLEAN DOC BOT

Телеграм-бот для генерации юридических документов с помощью ответов пользователя. Реализован на Python 3.10+ и Aiogram 3.x.

## Возможности
- 20 готовых юридических шаблонов (Jinja2).
- Сбор данных через FSM, подтверждения, возможность отмены и возврата.
- Генерация PDF (ReportLab) с брендингом CLEAN DOC BOT.
- Профиль пользователя с подсчётом лимитов и истории.
- Заглушки подписок и платежей, готовые к интеграции эквайринга.
- Админ-панель со статистикой использования.

## Структура
```
bot/
  main.py             # Точка входа
  config.py           # Конфигурация (pydantic)
  handlers/           # Хендлеры команд, документов, платежей, админа
  services/           # Генерация PDF, загрузка шаблонов, аналитика, хранилище, платежи
  data/templates/     # 20 Jinja-шаблонов документов
requirements.txt
```

## Запуск
1. Создайте `.env` с переменными (при необходимости переопределить токен/админов):
```
BOT_TOKEN=ваш_токен
ADMIN_IDS=298753135
```
2. Установите зависимости:
```
pip install -r requirements.txt
```
3. Запустите бота:
```
python -m bot.main
```

## Команды
- `/start` – приветствие и выбор документа.
- `/docs` – список шаблонов.
- `/help` – инструкция по использованию.
- `/profile` – информация о лимитах и истории.
- `/upgrade` – оформление Pro (демо).
- `/pricing` – описание тарифов.
- `/admin` – статистика (для админов из `config`).
- `/cancel` / `/back` – управление сценарием опроса.

## Расширение
- FSM хранится в памяти, можно заменить на Redis, подключив соответствующее хранилище Aiogram.
- Платежи реализованы как заглушка `PaymentService` — легко заменить на интеграцию с платёжным шлюзом.
- Добавление новых документов: разместите Jinja-шаблон в `bot/data/templates/` и добавьте описание в `DOCUMENTS` внутри `handlers/documents.py`.
